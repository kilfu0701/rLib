"use strict";var _require=require("./fileIO"),fileIO=_require.fileIO,_require2=require("./util/Object"),Object=_require2.Object,logger=function(e){var t={debug_mode:!0,prefix:"[Default]",toFile:!1,toFilename:"test.log"};this.options=Object.extend(t,e),this.io=void 0,this.options.toFile&&(this.io=new fileIO({dir:"TmpD",filename:this.options.toFilename,mode:"a"}).open())};logger.prototype.log=function(){if(this.options.debug_mode){var e=Array.prototype.slice.call(arguments);e.unshift(this.options.prefix),this._output("log",e)}},logger.prototype.info=function(){if(this.options.debug_mode){var e=Array.prototype.slice.call(arguments);e.unshift(this.options.prefix),this._output("info",e)}},logger.prototype.warn=function(){if(this.options.debug_mode){var e=Array.prototype.slice.call(arguments);e.unshift(this.options.prefix),this._output("warn",e)}},logger.prototype.error=function(){if(this.options.debug_mode){var e=Array.prototype.slice.call(arguments);e.unshift(this.options.prefix),this._output("error",e)}},logger.prototype._time=function(){var e=new Date,t=e.getFullYear()+"/"+("00"+(e.getMonth()+1)).slice(-2)+"/"+("00"+e.getDate()).slice(-2)+" "+("00"+e.getHours()).slice(-2)+":"+("00"+e.getMinutes()).slice(-2)+":"+("00"+e.getSeconds()).slice(-2);return t},logger.prototype._output=function(e,t){if(this.options.toFile){var o=[];o.push("["+e.toUpperCase()+"]	"+this._time()+"	");for(var i in t){var r="object"==typeof t[i]?JSON.stringify(t[i]):t[i];o.push(r)}this.io.write(o.join(" ")+"\n")}else this.options.debug_mode&&console[e].apply(console,t)},"undefined"!=typeof exports&&(exports.logger=logger);